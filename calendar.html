
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Event Calendar</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.17/index.global.min.js'></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');

    
    const eventsFromStorage = JSON.parse(localStorage.getItem('events')) || [];

   
    const formattedEvents = eventsFromStorage.map(event => ({
      title: event.name + " @ " + event.place,
      start: event.date
    }));

   
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: formattedEvents
    });

    calendar.render();
  });

    function logout() {
      localStorage.setItem('isLoggedIn', 'false');
      alert('Logged out successfully!');
      window.location.href = 'login.html';
    }

   
    function clearAllEvents() {
      localStorage.removeItem('events');
      alert('All events deleted!');
      window.location.reload();
    }

    document.addEventListener('DOMContentLoaded', function () {
      const calendarEl = document.getElementById('calendar');

      let eventsFromStorage = JSON.parse(localStorage.getItem('events')) || [];

      
      let formattedEvents = eventsFromStorage.map((event, index) => ({
        id: index.toString(), 
        title: event.name + " @ " + event.place,
        start: event.date
      }));

      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: formattedEvents,

        eventClick: function(info) {
          if (confirm(`"${info.event.title}" etkinliÄŸini silmek istiyor musun?`)) {
            
            eventsFromStorage.splice(parseInt(info.event.id), 1);
            
            localStorage.setItem('events', JSON.stringify(eventsFromStorage));
            
            info.event.remove();
            alert("Etkinlik silindi.");
          }
        }
      });

      calendar.render();
    });
  </script>

  

  <nav>
    <a href="cover.html">Home</a>
    <a href="calendar.html">Calendar</a>
    <a href="submit.html">Submit Event</a>
    <a href="help.html">Help / FAQ</a>
    <a href="login.html">Login</a>
  </nav>

  <main>
    <h2>All Upcoming Events</h2>
    <div class="top-buttons">
      <button onclick="logout()">Logout</button>
      <button onclick="clearAllEvents()">Clear All Events</button>
    </div>
    <div id="calendar"></div>
  </main>
</body>
</html>
