<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Submit Event</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
      <a href="cover.html">Home</a>
      <a href="calendar.html">Calendar</a>
      <a href="submit.html">Submit Event</a>
      <a href="help.html">Help / FAQ</a>
      <a href="login.html">Login</a>
  </nav>


  <script>
    if(localStorage.getItem('isLoggedIn') !== 'true') {
      alert('Please login first!');
      window.location.href = 'login.html';
    }
  </script>

  <h2 id="submit">Submit New Event</h2>
  <div id="formcontainer">
    <form id="eventForm">
      <label>Event Name: <input type="text" id="eventName" required></label><br>
      <label>Date: <input type="date" id="eventDate" required></label><br>
      <label>Place: <input type="text" id="eventPlace" required></label><br>
      <button type="submit">Submit</button>
    </form>
  </div>

  <script>
    document.getElementById('eventForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const name = document.getElementById('eventName').value;
      const date = document.getElementById('eventDate').value;
      const place = document.getElementById('eventPlace').value;

      const newEvent = {
        name,
        date,
        place
      };

      let events = JSON.parse(localStorage.getItem('events')) || [];
      events.push(newEvent);
      localStorage.setItem('events', JSON.stringify(events));

      alert("Event submitted successfully!");
      window.location.href = 'calendar.html'; 
    });
  </script>

</body>
</html>
